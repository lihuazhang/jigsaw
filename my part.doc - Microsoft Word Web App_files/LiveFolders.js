/* Copyright (C) 2012 Microsoft Corporation */(function(){var a=window,b=function(b){return a.document.getElementById(b)},j=a.cookieToss,h=10,c=[];function k(){var e=b("cookieStyle"),h=new RegExp("^http(?:s)?://(?:[A-Za-z0-9]*[.])*livefilestore(?:-int)?[.]com/","i");if(e){e.parentNode.removeChild(e);var g=document.getElementsByTagName("img"),f=0,i=g.length;for(;f<i;f++){var a=g[f];if(a.src&&h.test(a.src)){a.style.visiblity="hidden";c.push(a)}}}else d()}function f(){e(c,0,c.length);d()}function e(b,a,c){var f=Math.min(c,a+h);while(a<f){var d=b[a];i(d);a++}setTimeout(function(){e(b,a,c)},0)}function i(a){var b=new Image;b.onload=function(){a.src=a.src;c()};b.onerror=function(){d(a)};b.onabort=function(){c()};b.src=a.src;function c(){a.style.visiblity="visible";b.onload=b.onerror=b.onabort=null;a.onload=a.onerror=a.onabort=null;b=a=null}function d(a){var b=a.src;a.onload=a.onerror=a.onabort=c;a.src=b+(b.indexOf("?")<0?"?":"&")+"r"+Math.random()}}function d(){var a=b("temp_slideshow"),d=b("sl_slideshow"),c=b("slideshowTemplate");if(a&&d&&c){d.innerHTML=c.innerHTML;a.parentNode.removeChild(a)}}(function g(){var b=document.getElementById("c_content");if(b&&b.parentNode&&b.parentNode.nextSibling){k();if(j)if(a.cookieToss.e){a.cookieToss.e=0;a.cookieToss.c=1;f()}else if(!a.cookieToss.c)a.cookieToss.c=f}else setTimeout(g,100)})()})();if(!registerNamespace)var registerNamespace=Function.registerNamespace=function(e){var a=window,d=e.split("."),f=d.length;for(var c=0;c<f;c++){var b=d[c];if(!a[b])a[b]={};a=a[b]}};function stopDefaultAction(a){if(a&&typeof a.preventDefault=="function")a.preventDefault();else window.event.returnValue=false;return false}function _ge(a){return typeof a=="object"?a:document.getElementById(a)}function loadScript(d){var b=document,c=b.getElementsByTagName("head")[0],a=b.createElement("script");a.src=d;c.appendChild(a);return a}function getText(a){return document.all?a.innerText:a.textContent}function setText(a,b){if(document.all)a.innerText=b;else a.textContent=b}function isDescendantOf(a,b){a=a.parentNode;while(a!=null){if(a.tagName==b)return true;a=a.parentNode}return false}function setDisplay(b,a){b.style.display=a?"block":"none"}function resetDisplay(a){a.style.display=""}function setVisibility(b,a){b.style.visibility=a?"visible":"hidden"}function resetVisibility(a){a.style.visibility=""}function getTickCount(){var a=new Date;return a.getTime()}function isNullOrEmpty(a){return a===undefined||a===null||a.length===0}function first(a){if(!!a&&!!a[0])return a[0];return null}if(!Array.prototype.indexOf)Array.prototype.indexOf=function(d,a){var c=this.length;if(c!=0){a=a||0;if(a<0)a=Math.max(0,c+a);for(var b=a;b<c;b++)if(this[b]==d)return b}return -1};function HideElement(a){if(!!a){addCssClass(a,"displayInvisible");removeCssClass(a,"displayVisible")}}function ShowElement(a){if(!!a){removeCssClass(a,"displayInvisible");addCssClass(a,"displayVisible")}}function selectNodes(g,e,d,i){if(!e)e=function(){return true};if(!d)d="*";var c=[];if(!!document.evaluate&&!!i){var h=document.evaluate(i,g,null,0,null),b=h.iterateNext();while(!!b){c.push(b);b=h.iterateNext()}}else{var f=g.getElementsByTagName(d),j=f.length;for(var a=0;a<j;a++)if(e(f[a]))c.push(f[a])}return c}function elementHasClassName(a,b){return (a.className?a.className.split(" "):[]).indexOf(b)>-1}function getChildByClassName(a,d){if(a&&a.childNodes){var e=a.childNodes.length;for(var b=0;b<e;b++)if(elementHasClassName(a.childNodes[b],d))return a.childNodes[b];else{var c=getChildByClassName(a.childNodes[b],d);if(c!=null)return c}}return null}function getChildrenByClassName(b,d,a){if(!a)a=[];if(b&&b.childNodes){var e=b.childNodes.length;for(var c=0;c<e;c++){if(elementHasClassName(b.childNodes[c],d))a[a.length]=b.childNodes[c];getChildrenByClassName(b.childNodes[c],d,a)}}return a}function addCssClass(a,b){if(a.className!=null){var c=a.className?a.className.split(" "):[],d=c.indexOf(b);if(d===-1){c.push(b);a.className=c.join(" ")}}else a.className=b}function removeCssClass(b,d){if(b.className!=null){var a=b.className.split(" "),c=a.indexOf(d);if(c!==-1){a.splice(c,1);b.className=a.join(" ")}}}function prepareSubmitOnce(b){var a=!b.submitted;if(a){b.submitted=true;disableButton("actionPageSubmit");disableButton("secondaryActionPageSubmit");disableButton("cancelSubmit")}return a}function trySubmit(a){if(document.getElementById("aspnetForm").onsubmit()){if(a){var b=_ge("postVerb");if(b)b.value=a}document.getElementById("aspnetForm").submit()}}function trySubmitData(b,a){if(document.getElementById("aspnetForm").onsubmit()){if(a){var c=_ge("postVerbData");if(c)c.value=a}if(b){var d=_ge("postVerb");if(d)d.value=b}document.getElementById("aspnetForm").submit()}}function focusAndSelectTextField(a){if(a){a.focus();a.select()}}function runBatchOperation(f,h,b,d){var i=20,c=f.length,a=0,g=10;if(b===null||b===undefined)b=function(){};var e=function(){for(var j=0;j<i&&a<c;j++,a++)h(f[a],d,a);if(a<c)window.setTimeout(e,g);else if(a==c)b(d)};window.setTimeout(e,g)}function hideButton(a){a=_ge(a);if(a!=null)a.style.display="none"}function showButton(a){a=_ge(a);if(a!=null)a.style.display=""}function disableButton(a){a=_ge(a);if(a!=null)a.disabled=true}function enableButton(a){a=_ge(a);if(a!=null)a.disabled=false}function callHandlerOnEnterKey(a,c){a=a?a:window.event?window.event:"";var d=a.target||a.srcElement,b=a.keyCode==3||a.keyCode==13||a.which==13;if(b){if(a.preventDefault)a.preventDefault();if(window.event&&!a.which)window.event.keyCode=0;if(c)c(d)}return !b}function callHandlerOnEscKey(a,c){a=a?a:window.event?window.event:"";var d=a.target||a.srcElement,b=a.keyCode==27;if(b){if(a.preventDefault)a.preventDefault();if(window.event&&!a.which)window.event.keyCode=0;if(c)c(d)}return !b}function purgeHandlers(c){var b=c.attributes,a,e,d;if(b)for(a=0;a<b.length;a++){d=b[a].name;if(typeof c[d]==="function")c[d]=null}b=c.childNodes;if(b)for(a=0;a<b.length;a++)purgeHandlers(c.childNodes[a])}function loadAdImage(e,c,d){var b=_ge(e),a=document.createElement("img");a.alt=c;a.src=d;b.appendChild(a);b.style.visibility="visible"}function isChildOf(b,a){while(a&&a!==b&&a!=document)a=a.parentNode;return a===b}function isMenuOpen(a){return elementHasClassName(a,"on")}function closeMenu(a){a.style.display="none";removeCssClass(a,"on")}function toggleMenu(d,e){var a=_ge(e);if(isMenuOpen(a))closeMenu(a);else{var c=a.style,b=_ge(d);c.top=b.offsetHeight+b.offsetTop+"px";c.left=b.offsetLeft+"px";c.display="block";addCssClass(a,"on")}}function hideOnEsc(a,c){var b=_ge(c);a=a?a:window.event?window.event:"";if(a.keyCode==27&&isMenuOpen(b))closeMenu(b)}function hideOnMouseUp(a,e,f){var b=_ge(f),d=_ge(e);a=a?a:window.event?window.event:"";var c=a.target||a.srcElement;if(!isChildOf(b,c)&&!isChildOf(d,c)&&isMenuOpen(b))closeMenu(b)}function Range(a,b){this.start=a;this.end=b;this.contains=function(a){return this.isValid()&&a>=this.start&&a<=this.end};this.isValid=function(){return this.start!=-1}}function downloadToPhotoGallery(g,f,b,e,c,d,a){if(isDownloadToWlpgActive)if(wlpgWave3Installed)_ge(e).src="wlpg: /c "+g+" /r "+f+" /t "+b;else if(wlpgWave2Installed){if(confirm(c+"\n\n"+d)==true)window.open(a)}else window.open(a);isDownloadToWlpgActive=false;setTimeout(function(){isDownloadToWlpgActive=true},3e3)}function doOrderPrints(c){function e(){if(b){clearInterval(a);a=null;b.focus()}}var g=c,f="windows_live_order_prints",d="width=510,height=230,top=120,channelmode=0,dependent=0,directories=0,fullscreen=0,location=0,menubar=0,resizable=1,scrollbars=1,status=0,toolbar=0",b=window.open(g,f,d),a=setInterval(e,50);$menu.closeAll()}function getPosition(b){var d=0,c=0;if(!!b){for(var a=b;a;a=a.offsetParent){d+=a.offsetTop;c+=a.offsetLeft}for(a=b.parentNode;a&&a!=document.body;a=a.parentNode){if(a.scrollTop)d-=a.scrollTop;if(a.scrollLeft)c-=a.scrollLeft}}return {left:c,top:d}}function getViewportDimensions(){var a=document.documentElement,d=document.body,b,c;if(self.innerHeight&&self.innerWidth){b=self.innerWidth;c=self.innerHeight}else if(a&&a.clientHeight){b=a.clientWidth;c=a.clientHeight}else if(d){b=d.clientWidth;c=d.clientHeight}return {width:b,height:c}}function setCookie(h,g,a,e,d,f){var c;if(a){var b=new Date;b.setTime(b.getTime());a=a*1e3*60*60*24;c=new Date(b.getTime()+a)}document.cookie=h+"="+escape(g)+(a?";expires="+c.toGMTString():"")+(e?";path="+e:"")+(d?";domain="+d:"")+(f?";secure":"")}function getCookie(e){var d=e+"=",c=document.cookie.split(";");for(var b=0;b<c.length;b++){var a=c[b];while(a.charAt(0)==" ")a=a.substring(1,a.length);if(a.indexOf(d)==0)return a.substring(d.length,a.length)}return null}registerNamespace("Microsoft.Live.Folders.Web.Scripts");if(!!window.registerCommand){window.registerCommand("trySubmit",trySubmit);window.registerCommand("trySubmitData",trySubmitData)}